{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Welcome","text":"<p>Welcome to the documentation pages for all things Clams. We build Remote - a fully open-source interface for Core Lightning nodes. We have more projects in the works and you can learn more by visiting our website.</p>"},{"location":"#getting-help","title":"Getting Help","text":"<p>If you need some help you can join our Discord server and ask a question. We\u2019ll try and get back to you as soon as possible.</p> <p>\u2192 Github</p> <p>\u2192 Discord</p>"},{"location":"#lets-go","title":"Let\u2019s Go!","text":"<p>Check out the documentation for Remote.</p>"},{"location":"glossary/","title":"Glossary","text":""},{"location":"glossary/#lightning-address","title":"Lightning Address","text":"<p>A lightning node address is a string of text composed of your node\u2019s:</p> <ul> <li>Public key</li> <li>IP or DNS address</li> <li>Port</li> </ul> <p>You can find your address by looking up your node on a Lightning explorer such as Amboss or Mempool and copying the address. Try searching for your nodes alias if you don't know your public key.</p> <p>Here is an example:</p> <pre><code>03864ef025fde8fb587d989186ce6a4a186895ee44a926bfc370e2c366597a3f8f@3.33.236.230:9735\n</code></pre> <p>Alternatively you can call the getinfo method from the lightning cli and derive the address from the <code>id</code> and <code>address</code> parameters from the returned object.</p>"},{"location":"remote/","title":"Remote","text":"<p>Remote is a free and open source interface for managing Core Lightning nodes. The app syncs all node data into a single, secure, and localized hub. This enables seamless management and tracking across all connected nodes.</p>"},{"location":"remote/#getting-started","title":"Getting Started","text":""},{"location":"remote/#prerequisites","title":"Prerequisites","text":"<ol> <li>A Core Lightning node running version <code>0.12.0</code> or later.</li> <li>Command line access to generate a Rune authentication token.</li> </ol>"},{"location":"remote/#getting-help","title":"Getting Help","text":"<p>If you need some help you can join our Discord server and ask a question. We\u2019ll try and get back to you as soon as possible.</p> <p>\u2192 Github Issues</p> <p>\u2192 Discord</p>"},{"location":"remote/#lets-go","title":"Let\u2019s Go!","text":"<p>Download the desktop application or visit the browser app (PWA).</p>"},{"location":"remote/#encryption","title":"Encryption","text":"<p>When the you first open the app you will be prompted to encrypt all of the local app data stored on your device with a secure password. This means that your data at rest is always encrypted and will be loaded in to memory and decrypted when you enter your password. It is important that you choose a secure password, especially if you are going to grant the app permission to spend.</p> <p>Every time you reload the app you will be prompted for this password. If you forget your password, you will have to reset the app which will delete all of the local data and Wallet connections. So make sure to store a backup of your secure password in a secure place - either in a password manager or offline.</p>"},{"location":"remote/#wallets","title":"Wallets","text":"<p>This is where you establish connections to multiple wallets to synchronize data and manage funds. Start by clicking the <code>Add</code> button then selecting the Core Lightning option.</p>"},{"location":"remote/#core-lightning","title":"Core Lightning","text":"<p>To connect your Core Lightning node you need to enter two things:</p> <ul> <li>Your Lightning Address</li> <li>A Rune to permit the app to perform some functions on your node.</li> </ul> <p>Once you have input both, click the connect button to initiate a connection to your node. If connection is successful, you will see the a green <code>connected</code> status appear.</p>"},{"location":"remote/#advanced-options","title":"Advanced Options","text":"<p>Clicking \"Advanced\" will show some options for connecting to a node directly without using a WebSocket proxy, or for setting a custom WebSocket proxy URL to use instead of the Clams proxy.</p> <p>For detailed instructions for connecting directly to a node, see the Testing Locally section.</p>"},{"location":"remote/#how-it-works","title":"How it Works","text":"<p>Remote uses a library called Lnmessage to spin up what can be conceptually thought of as an ultra light node that knows how to \u201cspeak\u201d lightning, but does not implement the other features of the protocol. It will initiate a connection to your node like any other node would and uses the encrypted lightning transport protocol for all messages. In fact, once you have connected to your node, you can run the listpeers command and see it listed there in your peers like any other, except the feature bits are all set to zeros:</p> <pre><code>{\n  \"id\": \"02ee5a0edc498173a9765a0225be3e375c2693fa067ad6229c62e29948fb3a9138\",\n  \"connected\": true,\n  \"netaddr\": [\"[::ffff:192.168.69.1]:50258\"],\n  \"features\": \"0000000000000000\",\n  \"channels\": []\n}\n</code></pre> <p>When connecting from the browser, we need to use a WebSocket for connection that routes lightning messages via a trustless proxy server. The Clams proxy server accepts a connection from the browser, initiates a regular socket connection to your node and then just shuffles encrypted binary packets between the browser and your node. The proxy server is trustless since the server cannot decrypt any of the traffic that it sees. The decryption keys remain client side and never leave your device.</p> <p>Info</p> <p>A direct connection could be made to a CoreLn node over WebSockets thanks to the experimental-websocket-port config option, but typically most users will not have the required ssl certificate required to satisfy CORS connections within browsers so that option is not currently available.</p> <p>Below is an architecture diagram demonstrating how the browser app communicates with a Lightning node via a trustless proxy server.</p> <p></p> Web browser to lightning node communication"},{"location":"remote/#troubleshooting","title":"Troubleshooting","text":"<p>If you see a connection error after attempting to connect you can try the following steps to diagnose the problem:</p> <ol> <li>Use the <code>Recent errors</code> dropdown to help diagnose your issue.</li> <li>Ensure your node is running by calling the <code>getinfo</code> method via the lightning CLI</li> <li>Ensure that your node is reachable by pinging the IP address and port</li> <li>If the above are all working as expected, but you still cannot connect to your node via the Clams app, jump in to the Discord and ask for some help.</li> </ol>"},{"location":"remote/#authentication","title":"Authentication","text":""},{"location":"remote/#runes","title":"Runes","text":"<p>To allow Remote to securely interact with your Core Lightning node, you will need to provide it with a valid authentication token with the appropriate permissions. Core Lightning nodes use rune authentication tokens to specify permission to provide fine grained access to the node RPC server via the Commando plugin.</p> <p>The app is expecting a valid Base64 encoded rune that you can generate via the commando-rune method on your lightning cli. You can create a rune that gives the app whichever permissions you are comfortable with and the app will gracefully fail and display an error message where appropriate indicating if it does not have adequate permissions to perform an action initiated within the app.</p> <p>To make life easier we provide you with some CLI recipes to create a rune. See the <code>Rune CLI commands</code> dropdown in the Wallets area when making a connection to your node for three options range from <code>Read only</code> to <code>Admin</code>. If you only want to provide permissions that cover all app functionality, then go for the <code>Clams rune</code>.</p>"},{"location":"remote/#session-id","title":"Session id","text":"<p>When you boot up Remote for the first time, a random public key is generated that can be conceptually thought of as a \u201csession\u201d id. The public key corresponds to a private key that will be stored locally and will be used when initiating a connection to your node, so the Remote app will always have a persistent node id when connecting. The purpose of this public key is that you can use it to restrict your rune so that only this node identity can use the provided rune. This provides an extra layer of security when working with runes that have the ability to send payments, which can be thought of as essentially private keys. The session secret, rune authentications token, and connection address are all stored in local storage on your device and you will encrypt these credentials with a secure password to ensure that they are only ever decrypted in memory. If you want to revoke access to your node, you can go in to the Wallets page and delete the connection.</p>"},{"location":"remote/#recipes","title":"Recipes","text":"<p>Here are some rune recipes for common permissions groupings that will quickly get you going, but feel free to read the rune documentation to tweak to your liking. All of the recipes below will be restricted to the node id: <code>031846f85514de33d0c807261aa4e801b5c0a45a3db5c1ffaf9af80eaff6ce330b</code>, but when you run the command to create a rune, make sure you replace it with the public key that you were provided in the app. The public key can can viewed by copying the <code>id</code> from any of the <code>Rune CLI commands</code> options on the Core Lightning Wallet screen. Be very careful when sharing and handling runes as they can function basically like private keys depending on the restrictions. It is highly recommended to always restrict any runes to the provided public key. We have also added rate limiting to all rune recipes to ensure that your node cannot get overloaded with RPC calls. Replace all instances of <code>id=0318..</code> with your session id.</p>"},{"location":"remote/#readonly","title":"Readonly","text":"<p>The following rune will allow read only access to your node and encodes the following permissions:</p> <ul> <li>Read the balance of funds</li> <li>List payment history</li> <li>Listen for invoice payments</li> <li>Can only make requests if the node has an id equal to the session public key</li> <li>Is rate limited to 60 requests a minute</li> </ul> <pre><code>#v0.12.x\nlightning-cli commando-rune restrictions='[\"id=031846f85514de33d0c807261aa4e801b5c0a45a3db5c1ffaf9af80eaff6ce330b\", \"method^list|method^get|method=summary|method=waitanyinvoice|method=waitinvoice\",\"method/listdatastore\", \"rate=60\"]'\n\n#v22.x.x\nlightning-cli commando-rune restrictions='[[\"id=031846f85514de33d0c807261aa4e801b5c0a45a3db5c1ffaf9af80eaff6ce330b\"], [\"method^list\",\"method^get\",\"method=summary\",\"method=waitanyinvoice\",\"method=waitinvoice\"],[\"method/listdatastore\"], [\"rate=60\"]]'\n</code></pre> CLI command <pre><code>_V6-OWCxC0uexq47DGclJg8bEPn7mAPx1VJ1XyPydhQ9MTMmaWQ9MDMxODQ2Zjg1NTE0ZGUzM2QwYzgwNzI2MWFhNGU4MDFiNWMwYTQ1YTNkYjVjMWZmYWY5YWY4MGVhZmY2Y2UzMzBiJm1ldGhvZF5saXN0fG1ldGhvZF5nZXR8bWV0aG9kPXN1bW1hcnkmbWV0aG9kL2xpc3RkYXRhc3RvcmUmcmF0ZT02MA==\n</code></pre> The resulting rune"},{"location":"remote/#lightning-payments","title":"Lightning Payments","text":"<p>The following rune will allow full app functionality and encodes the following permissions:</p> <ul> <li>Read the balance of funds</li> <li>List payment history</li> <li>Create invoices</li> <li>Pay invoices</li> <li>Send keysend payments</li> <li>Listen for invoice payment updates</li> <li>Sign messages (for LNURL Auth)</li> <li>Can only make requests if the node has an id equal to the session public key</li> <li>Is rate limited to 60 requests a minute</li> </ul> <pre><code>#v0.12.x\nlightning-cli commando-rune restrictions='[\"id=031846f85514de33d0c807261aa4e801b5c0a45a3db5c1ffaf9af80eaff6ce330b\", \"method^list|method^get|method=summary|method=pay|method=keysend|method=invoice|method=waitanyinvoice|method=waitinvoice|method=signmessage\",\"method/listdatastore\", \"rate=60\"]'\n\n#v22.x.x\nlightning-cli commando-rune restrictions='[[\"id=031846f85514de33d0c807261aa4e801b5c0a45a3db5c1ffaf9af80eaff6ce330b\"], [\"method^list\",\"method^get\",\"method=summary\",\"method=pay\",\"method=keysend\",\"method=invoice\",\"method=waitanyinvoice\",\"method=waitinvoice\", \"method=signmessage\"],[\"method/listdatastore\"], [\"rate=60\"]]'\n</code></pre> CLI command <pre><code>KXmMos0AFEwsScl7EZ__CpfA4iT9mXcKI6nYq8_ZCS89MTQmaWQ9MDMxODQ2Zjg1NTE0ZGUzM2QwYzgwNzI2MWFhNGU4MDFiNWMwYTQ1YTNkYjVjMWZmYWY5YWY4MGVhZmY2Y2UzMzBiJm1ldGhvZF5saXN0fG1ldGhvZF5nZXR8bWV0aG9kPXN1bW1hcnl8bWV0aG9kPXBheXxtZXRob2Q9a2V5c2VuZHxtZXRob2Q9aW52b2ljZSZtZXRob2QvbGlzdGRhdGFzdG9yZSZyYXRlPTYw\n</code></pre> The resulting rune"},{"location":"remote/#rune-decoding","title":"Rune Decoding","text":"<p>Once you input a rune, the app will automatically decode it and display it in a human readable form to help you understand precisely all the permissions you are about to grant to the app.</p>"},{"location":"remote/#installation","title":"Installation","text":""},{"location":"remote/#pwa","title":"PWA","text":"<p>Remote is offered as a Progressive Web App (PWA), allowing you to install it directly on your device. Once installed, it provides a user experience similar to that of a native app downloaded from an app store. The PWA is particularly useful for anyone that requires access to their nodes via their cellphone, especially while on the go.</p>"},{"location":"remote/#ios-ipados","title":"iOS / ipadOS","text":"<ol> <li>Press the share button at the bottom of the screen</li> <li>Press \u201cAdd to Home Screen\u201d</li> <li>Press \u201cAdd\u201d</li> <li>Then you will see the Remote icon on your home screen</li> </ol> iOS Install"},{"location":"remote/#android","title":"Android","text":"<ol> <li>Press the \u201cAdd Remote to Home screen\u201d popup at the bottom of the screen</li> <li>If the popup is not there, then press the 3 dots up the top right</li> <li>Press \u201cAdd to Home screen\u201d</li> <li>Press \u201cInstall\u201d</li> <li>Press \u201cAdd to Home screen\u201d</li> <li>Then you will see the Remote icon on your home screen</li> </ol> Android Install"},{"location":"remote/#running-a-vpn","title":"Running a VPN","text":"<p>If you are currently running a TOR only node, or are about to setup a new node, then you will need to make sure that your node is accessible over clearnet before attempting to connect in the Remote app.</p> <p>You could just simply expose your home IP, but this is terrible for privacy. A good work around is to run a server in the cloud (VPS) that has a public IP which acts as a public front for your node. The VPS has a secure VPN connection to your home node and will forward all traffic without ever exposing your home IP to the broader network.</p> <p>Some options:</p>"},{"location":"remote/#tailscale","title":"Tailscale","text":"<p>We recommend using Tailscale- and we will have a step-by-step guide added to our docs very soon. For Umbrel node runners, here is a good guide.</p>"},{"location":"remote/#tunnelsats","title":"Tunnelsats","text":"<p>If you are running one of the node in a box solutions such as RaspiBlitz, Umbrel, Start9 etc, you could try using a service called TunnelSats which provides scripts that will convert your TOR only node in to a hybrid node with clearnet access. They run the infrastructure and you pay in sats for the service for fixed time frames.</p>"},{"location":"remote/#wireguard","title":"Wireguard","text":"<p>If you would like to setup a VPS yourself, the best guide we have found so far for running your lightning node on clearnet via a Wireguard VPN is this video by 402 Payment Required (awesome name btw!)</p>"},{"location":"remote/#testing-locally","title":"Testing Locally","text":"<p>To try the app out you can create a local regtest lightning network using Polar and connect Remote to CoreLn nodes.</p> <ol> <li>Download Polar</li> <li>Create a test network with a least one CoreLN node running &gt; v0.12.0 and start the network</li> <li>Open up the Docker dashboard and find the running container. Open up the docker compose file in your text editor:</li> </ol> <p></p> <ol> <li>Find the name of the CoreLN node and add <code>--experimental-websocket-port=7272</code> to the startup command and expose the port:</li> </ol> <p></p> <ol> <li>Save the file and restart the Polar network</li> <li>Run the Clams app locally:</li> <li><code>git clone https://github.com/clams-tech/App.git</code></li> <li><code>cd App</code></li> <li><code>yarn</code></li> <li><code>yarn dev-http</code></li> <li>Enter the connection address using the public key of the node which is accessible from the \"info\" tab as well as <code>localhost:7272</code>.</li> <li>Click the \"Advanced\" dropdown -&gt; select direct connection -&gt; select <code>ws</code></li> <li>Click \"Connect\" and you should successfully connect to the local node.</li> <li>To create an auth rune, click the \"Actions\" tab -&gt; click \"Launch which will launch a terminal window for the lightning CLI.</li> <li>Run <code>lightning-cli commando-rune</code> to create a rune and paste it in to the app.</li> <li>You have connected and authenticated your locally running node!</li> </ol>"},{"location":"remote/#bolt12-offers","title":"BOLT12 Offers","text":"<p>BOLT12 Offers is a new standard for invoicing that brings some neat new features that are not possible with BOLT11 invoices (the current standard). You can create reusable static invoices for donations, create a QR invoice request that allows someone to withdraw from your node, denominate in fiat currencies, proof of payment and more. For more info on BOLT12 check out BOLT12.org.</p> <p>Info</p> <p>To use the BOLT12 features in Remote, you will need to enable the <code>--experimental-offers</code> flag in your Core Lightning config file.</p>"},{"location":"remote/#creating-offers","title":"Creating Offers","text":"<p>Creating an offer is simple and is guided by the BOLT12 payment creation flow for all the needed input. If you want to receive a payment, select <code>pay</code>. If you would like to allow someone to withdraw funds from your node, select the <code>withdraw</code> type.</p>"},{"location":"remote/#scanning-and-sending-bolt12-offers","title":"Scanning and Sending BOLT12 Offers","text":"<p>You can scan (via the scan button) or input manually (by pasting the offer) a BOLT12 offer and the payment flow will guide you through to payment completion.</p>"},{"location":"remote/#managing-offers","title":"Managing Offers","text":"<p>You can view all of your current offers listed with a brief summary of each one.</p>"},{"location":"remote/#offer-detail","title":"Offer detail","text":"<p>Clicking on one of the offers in the summary list will show you the offer details. You can view all of the payments that have been made via that offer and can click through to see the payment details.</p> <p>Info</p> <p>Remote does not currently support the recurrence features of BOLT12, but will support them once they are added back in to the spec.</p>"}]}